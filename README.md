# Crawler/Parser Backend Service

## ğŸ“‹ ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°

Ğ‘ÑĞºĞµĞ½Ğ´-ÑĞµÑ€Ğ²Ğ¸Ñ Ğ´Ğ»Ñ Ğ¿Ğ°Ñ€ÑĞ¸Ğ½Ğ³Ğ° Ğ¿ÑƒĞ±Ğ»Ğ¸Ñ‡Ğ½Ñ‹Ñ… Ğ²ĞµĞ±-ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ† Ñ Ğ¾Ñ‡ĞµÑ€ĞµĞ´ÑŒÑ Ğ·Ğ°Ğ´Ğ°Ñ‡. Ğ¡ĞµÑ€Ğ²Ğ¸Ñ Ğ¿Ğ¾Ğ·Ğ²Ğ¾Ğ»ÑĞµÑ‚:
- ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ÑÑ‚ÑŒ ÑĞ¿Ğ¸ÑĞ¾Ğº URL Ğ´Ğ»Ñ Ğ¿Ğ°Ñ€ÑĞ¸Ğ½Ğ³Ğ° Ñ‡ĞµÑ€ĞµĞ· HTTP API
- ĞĞ±Ñ€Ğ°Ğ±Ğ°Ñ‚Ñ‹Ğ²Ğ°Ñ‚ÑŒ Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ¸ Ğ°ÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ½Ğ¾ Ñ‡ĞµÑ€ĞµĞ· Ğ¾Ñ‡ĞµÑ€ĞµĞ´ÑŒ
- Ğ˜Ğ·Ğ²Ğ»ĞµĞºĞ°Ñ‚ÑŒ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ (Ğ¿Ñ€Ğ¾Ñ„Ğ¸Ğ»Ğ¸) Ğ¸Ğ· HTML
- ĞÑ‚ÑĞ»ĞµĞ¶Ğ¸Ğ²Ğ°Ñ‚ÑŒ ÑÑ‚Ğ°Ñ‚ÑƒÑ Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ñ Ğ·Ğ°Ğ´Ğ°Ñ‡
- Ğ˜ÑĞºĞ°Ñ‚ÑŒ ÑĞ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ½Ñ‹Ğµ Ğ¿Ñ€Ğ¾Ñ„Ğ¸Ğ»Ğ¸

**Ğ’Ğ°Ğ¶Ğ½Ñ‹Ğµ Ğ¾Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ¸Ñ:**
- ĞŸĞ°Ñ€ÑĞ¸Ğ½Ğ³ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ¿ÑƒĞ±Ğ»Ğ¸Ñ‡Ğ½Ñ‹Ñ… ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†
- Ğ‘ĞµĞ· Ğ¾Ğ±Ñ…Ğ¾Ğ´Ğ° Ğ·Ğ°Ñ‰Ğ¸Ñ‚Ğ½Ñ‹Ñ… Ğ¼ĞµÑ…Ğ°Ğ½Ğ¸Ğ·Ğ¼Ğ¾Ğ²
- Ğ¡Ğ¾Ğ±Ğ»ÑĞ´ĞµĞ½Ğ¸Ğµ rate limits (1 Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ/ÑĞµĞº Ğ½Ğ° Ğ´Ğ¾Ğ¼ĞµĞ½)

## ğŸ—ï¸ ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°

### ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹ ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  HTTP API   â”‚â”€â”€â”€â”€â–¶â”‚    Queue     â”‚â”€â”€â”€â”€â–¶â”‚   Worker    â”‚
â”‚  (Express)  â”‚     â”‚   (BullMQ)   â”‚     â”‚             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                    â”‚                     â”‚
       â–¼                    â–¼                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PostgreSQL  â”‚     â”‚    Redis     â”‚     â”‚   Parser    â”‚
â”‚  (Prisma)   â”‚     â”‚              â”‚     â”‚ (Cheerio/   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚ Playwright) â”‚
                                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ĞÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ğµ Ñ‚ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ğ¸:

- **HTTP API**: Express.js + TypeScript
- **Queue**: BullMQ + Redis
- **Worker**: ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ·Ğ°Ğ´Ğ°Ñ‡ Ñ concurrency control
- **Parser**: 
  - HTTP fetcher + Cheerio (Ğ¾ÑĞ½Ğ¾Ğ²Ğ½Ğ¾Ğ¹)
  - Playwright (fallback Ğ´Ğ»Ñ JS-Ñ€ĞµĞ½Ğ´ĞµÑ€Ğ¸Ğ½Ğ³Ğ°)
- **Ğ‘Ğ°Ğ·Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…**: PostgreSQL + Prisma ORM

## ğŸ“Š Job Flow

1. **POST /api/crawl** - ĞºĞ»Ğ¸ĞµĞ½Ñ‚ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ÑĞµÑ‚ ÑĞ¿Ğ¸ÑĞ¾Ğº URL
2. **Job ÑĞ¾Ğ·Ğ´Ğ°ĞµÑ‚ÑÑ** Ğ² Ğ‘Ğ” ÑĞ¾ ÑÑ‚Ğ°Ñ‚ÑƒÑĞ¾Ğ¼ `queued`
3. **JobItems ÑĞ¾Ğ·Ğ´Ğ°ÑÑ‚ÑÑ** Ğ´Ğ»Ñ ĞºĞ°Ğ¶Ğ´Ğ¾Ğ³Ğ¾ URL
4. **Job Ğ¿Ğ¾Ğ¿Ğ°Ğ´Ğ°ĞµÑ‚ Ğ² Ğ¾Ñ‡ĞµÑ€ĞµĞ´ÑŒ** BullMQ
5. **Worker Ğ·Ğ°Ğ±Ğ¸Ñ€Ğ°ĞµÑ‚ Job** Ğ¸ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ°Ñ‚Ñ‹Ğ²Ğ°ĞµÑ‚ items Ğ¿Ğ°Ñ€Ğ°Ğ»Ğ»ĞµĞ»ÑŒĞ½Ğ¾
6. **Ğ”Ğ»Ñ ĞºĞ°Ğ¶Ğ´Ğ¾Ğ³Ğ¾ item**:
   - Fetch Ñ retry (max 3 Ğ¿Ğ¾Ğ¿Ñ‹Ñ‚ĞºĞ¸)
   - Parse HTML â†’ DTO
   - Save Ğ² Ğ‘Ğ” Ğ¸Ğ»Ğ¸ update ÑÑ‚Ğ°Ñ‚ÑƒÑ
7. **Job ÑÑ‚Ğ°Ñ‚ÑƒÑ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ÑĞµÑ‚ÑÑ**: `done`/`partial`/`failed`
8. **GET /api/jobs/:id** - ĞºĞ»Ğ¸ĞµĞ½Ñ‚ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ÑĞµÑ‚ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚

## ğŸ”„ ĞŸĞ°Ñ€ÑĞ¸Ğ½Ğ³ Ğ¸ Ğ´ĞµĞ³Ñ€Ğ°Ğ´Ğ°Ñ†Ğ¸Ñ

### ĞÑĞ½Ğ¾Ğ²Ğ½Ğ¾Ğ¹ Ğ¿ÑƒÑ‚ÑŒ (HTTP + Cheerio):
- Ğ‘Ñ‹ÑÑ‚Ñ€Ñ‹Ğ¹ HTTP-Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ
- ĞŸĞ°Ñ€ÑĞ¸Ğ½Ğ³ HTML Ñ‡ĞµÑ€ĞµĞ· Cheerio
- Ğ˜Ğ·Ğ²Ğ»ĞµÑ‡ĞµĞ½Ğ¸Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ¿Ğ¾ CSS-ÑĞµĞ»ĞµĞºÑ‚Ğ¾Ñ€Ğ°Ğ¼

### Fallback (Playwright):
- ĞĞºÑ‚Ğ¸Ğ²Ğ¸Ñ€ÑƒĞµÑ‚ÑÑ Ğ¿Ñ€Ğ¸ Ğ¿ÑƒÑÑ‚Ğ¾Ğ¼ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğµ Ğ¾Ñ‚ Cheerio
- ĞŸĞ¾Ğ»Ğ½Ñ‹Ğ¹ Ñ€ĞµĞ½Ğ´ĞµÑ€Ğ¸Ğ½Ğ³ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñ‹ Ğ² Ğ±Ñ€Ğ°ÑƒĞ·ĞµÑ€Ğµ
- ĞĞ¶Ğ¸Ğ´Ğ°Ğ½Ğ¸Ğµ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ¸ JS-ĞºĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚Ğ°

### ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº:
- `403 Forbidden` â†’ ÑÑ‚Ğ°Ñ‚ÑƒÑ `blocked` (Ğ±ĞµĞ· retry)
- `429/5xx` â†’ retry Ñ exponential backoff
- Network errors â†’ retry
- ĞÑÑ‚Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ â†’ `error`

## ğŸ” Retry & Rate Limit

### Retry Ğ¿Ğ¾Ğ»Ğ¸Ñ‚Ğ¸ĞºĞ°:
- **MAX_ATTEMPTS**: 3
- **BACKOFF_BASE_MS**: 500ms
- **Backoff**: exponential (500ms, 1s, 2s)
- **Retry Ğ´Ğ»Ñ**: Network errors, 429, 5xx
- **Ğ‘ĞµĞ· retry Ğ´Ğ»Ñ**: 403, 4xx (ĞºÑ€Ğ¾Ğ¼Ğµ 429)

### Rate limiting:
- **1 Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ/ÑĞµĞºÑƒĞ½Ğ´Ğ°** Ğ½Ğ° Ğ´Ğ¾Ğ¼ĞµĞ½
- In-memory Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ timestamps
- ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ°Ñ Ğ·Ğ°Ğ´ĞµÑ€Ğ¶ĞºĞ° Ğ¼ĞµĞ¶Ğ´Ñƒ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ°Ğ¼Ğ¸

## ğŸ“¡ API Reference

### POST /api/crawl
Ğ¡Ğ¾Ğ·Ğ´Ğ°ĞµÑ‚ Ğ·Ğ°Ğ´Ğ°Ñ‡Ñƒ Ğ¿Ğ°Ñ€ÑĞ¸Ğ½Ğ³Ğ° Ğ´Ğ»Ñ ÑĞ¿Ğ¸ÑĞºĞ° URL.

```bash
curl -X POST http://localhost:3000/api/crawl \
  -H "Content-Type: application/json" \
  -d '{
    "urls": ["https://example.com"],
    "priority": "normal"
  }'
```

Response:
```json
{
  "jobId": "01J..."
}
```

### GET /api/jobs/:jobId
ĞŸĞ¾Ğ»ÑƒÑ‡Ğ°ĞµÑ‚ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ Ğ¾ Ğ·Ğ°Ğ´Ğ°Ñ‡Ğµ.

```bash
curl http://localhost:3000/api/jobs/01J...
```

Response:
```json
{
  "job": {
    "id": "01J...",
    "status": "done",
    "priority": "normal",
    "createdAt": "2024-01-01T00:00:00Z",
    "updatedAt": "2024-01-01T00:01:00Z",
    "completedAt": "2024-01-01T00:01:00Z",
    "items": [
      {
        "id": "01J...",
        "sourceUrl": "https://example.com",
        "status": "ok",
        "attempts": 1,
        "profileId": "01J..."
      }
    ]
  }
}
```

### GET /api/profiles
ĞŸĞ¾Ğ¸ÑĞº ÑĞ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ½Ñ‹Ñ… Ğ¿Ñ€Ğ¾Ñ„Ğ¸Ğ»ĞµĞ¹.

```bash
# Ğ’ÑĞµ Ğ¿Ñ€Ğ¾Ñ„Ğ¸Ğ»Ğ¸ Ñ Ğ¿Ğ°Ğ³Ğ¸Ğ½Ğ°Ñ†Ğ¸ĞµĞ¹
curl "http://localhost:3000/api/profiles?page=1&limit=20"

# ĞŸĞ¾Ğ¸ÑĞº Ğ¿Ğ¾ Ñ‚ĞµĞºÑÑ‚Ñƒ
curl "http://localhost:3000/api/profiles?query=username&page=1&limit=20"
```

Response:
```json
{
  "page": 1,
  "limit": 20,
  "total": 100,
  "items": [
    {
      "sourceUrl": "https://example.com/user",
      "username": "username",
      "displayName": "Display Name",
      "avatarUrl": "https://..."
    }
  ]
}
```

### GET /api/health
ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ñ ÑĞµÑ€Ğ²Ğ¸ÑĞ°.

```bash
curl http://localhost:3000/api/health
```

## ğŸš€ ĞšĞ°Ğº Ğ·Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚

### ĞŸÑ€ĞµĞ´Ğ²Ğ°Ñ€Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ Ñ‚Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ:
- Node.js 18+
- Docker & Docker Compose
- npm Ğ¸Ğ»Ğ¸ yarn

### Ğ¨Ğ°Ğ³Ğ¸ ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ¸:

1. **ĞšĞ»Ğ¾Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ñ€ĞµĞ¿Ğ¾Ğ·Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ¹ Ğ¸ ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚Ğ¸:**
```bash
git clone <repository>
cd crawler-service
npm install
```

2. **ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¸Ñ‚ÑŒ environment:**
```bash
cp .env.example .env
```

3. **Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ Ğ¸Ğ½Ñ„Ñ€Ğ°ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñƒ (PostgreSQL + Redis):**
```bash
docker-compose up -d
```

4. **ĞŸÑ€Ğ¸Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¸ Ğ‘Ğ”:**
```bash
npx prisma migrate dev
```

5. **Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ API ÑĞµÑ€Ğ²ĞµÑ€:**
```bash
npm run dev
```

6. **Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ Worker (Ğ² Ğ¾Ñ‚Ğ´ĞµĞ»ÑŒĞ½Ğ¾Ğ¼ Ñ‚ĞµÑ€Ğ¼Ğ¸Ğ½Ğ°Ğ»Ğµ):**
```bash
npm run worker
```

### ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ¾ÑĞ¿Ğ¾ÑĞ¾Ğ±Ğ½Ğ¾ÑÑ‚Ğ¸:

1. **Health check:**
```bash
curl http://localhost:3000/api/health
```

2. **Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ·Ğ°Ğ´Ğ°Ñ‡Ñƒ Ğ¿Ğ°Ñ€ÑĞ¸Ğ½Ğ³Ğ°:**
```bash
curl -X POST http://localhost:3000/api/crawl \
  -H "Content-Type: application/json" \
  -d '{"urls": ["https://example.com"], "priority": "normal"}'
```

3. **ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ ÑÑ‚Ğ°Ñ‚ÑƒÑ Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ¸:**
```bash
curl http://localhost:3000/api/jobs/<jobId>
```

## ğŸ§ª Ğ¢ĞµÑÑ‚Ñ‹

### Ğ—Ğ°Ğ¿ÑƒÑĞº Ñ‚ĞµÑÑ‚Ğ¾Ğ²:
```bash
npm test
```

### Ğ¢Ğ¸Ğ¿Ñ‹ Ñ‚ĞµÑÑ‚Ğ¾Ğ²:

1. **Unit Ñ‚ĞµÑÑ‚Ñ‹**:
   - ĞŸĞ°Ñ€ÑĞ¸Ğ½Ğ³ HTML â†’ DTO (`tests/parser/cheerio-parser.test.ts`)
   - Playwright utilities (`tests/parser/playwright-utils.test.ts`)

2. **Integration Ñ‚ĞµÑÑ‚Ñ‹**:
   - Job flow (`tests/integration/job-flow.test.ts`)
   - Ğ¡ĞµÑ€Ğ²Ğ¸ÑÑ‹ Ğ¸ Ñ€ĞµĞ¿Ğ¾Ğ·Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ¸

3. **E2E Ñ‚ĞµÑÑ‚Ñ‹**:
   - HTTP API endpoints (`tests/e2e/api.test.ts`)
   - Ğ’Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ²
   - Ğ¤Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ñ‹ Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ¾Ğ²

### Coverage:
```bash
Test Suites: 4 passed, 4 total
Tests:       33 passed, 33 total
```

## ğŸ“ ĞĞ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ¸Ñ Ğ¸ Ğ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ñ‹Ğµ ÑƒĞ»ÑƒÑ‡ÑˆĞµĞ½Ğ¸Ñ

### Ğ¢ĞµĞºÑƒÑ‰Ğ¸Ğµ Ğ¾Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ¸Ñ:
- ĞĞµÑ‚ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ¸ Ğ¿Ñ€Ğ¾ĞºÑĞ¸
- ĞĞµÑ‚ Ñ€ĞµÑˆĞµĞ½Ğ¸Ñ captcha
- Rate limiter Ñ…Ñ€Ğ°Ğ½Ğ¸Ñ‚ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ in-memory (Ğ½Ğµ Ğ¼Ğ°ÑÑˆÑ‚Ğ°Ğ±Ğ¸Ñ€ÑƒĞµÑ‚ÑÑ)
- ĞĞµÑ‚ Ğ°Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸/Ğ°ÑƒÑ‚ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ğ¸ API
- ĞĞ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ½Ñ‹Ğ¹ Ğ½Ğ°Ğ±Ğ¾Ñ€ Ğ¿Ğ°Ñ€ÑĞµÑ€Ğ¾Ğ² (Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ OnlyFans-like)



## ğŸ“¦ Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°

```
parser_testing/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ api/          # HTTP API (controllers, routes, middleware)
â”‚   â”œâ”€â”€ db/           # Prisma ÑÑ…ĞµĞ¼Ğ° Ğ¸ Ñ€ĞµĞ¿Ğ¾Ğ·Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ¸
â”‚   â”œâ”€â”€ parser/       # ĞŸĞ°Ñ€ÑĞ¸Ğ½Ğ³ Ğ»Ğ¾Ğ³Ğ¸ĞºĞ° (HTTP, Playwright, parsers)
â”‚   â”œâ”€â”€ queue/        # BullMQ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ
â”‚   â”œâ”€â”€ services/     # Ğ‘Ğ¸Ğ·Ğ½ĞµÑ-Ğ»Ğ¾Ğ³Ğ¸ĞºĞ°
â”‚   â”œâ”€â”€ utils/        # Ğ£Ñ‚Ğ¸Ğ»Ğ¸Ñ‚Ñ‹ (retry, rate-limiter, logger)
â”‚   â””â”€â”€ workers/      # Queue workers
â”œâ”€â”€ tests/            # Ğ¢ĞµÑÑ‚Ñ‹
â”œâ”€â”€ prisma/           # ĞœĞ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¸ Ğ‘Ğ”
â”œâ”€â”€ docker-compose.yml
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â””â”€â”€ README.md
```